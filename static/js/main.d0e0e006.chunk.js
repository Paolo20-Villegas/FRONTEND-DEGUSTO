(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(35)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),o=t.n(l);t(21);var s=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:o}=a;t(e),n(e),r(e),l(e),o(e)})},c=(t(22),t(6)),i=t(3);t(23);var m=()=>{const e=Object(i.p)();return r.a.createElement("div",{className:"inicio-container"},r.a.createElement("header",{className:"inicio-header"},r.a.createElement("h1",null,"De Gusto"),r.a.createElement("p",null,"\xa1Nos encargamos de hacer conocer sus negocios!")),r.a.createElement("div",{className:"inicio-banner"},r.a.createElement("h2",null,"Bienvenido a nuestra p\xe1gina web"),r.a.createElement("p",null,"\xa1Descubre c\xf3mo podemos ayudarte!"),r.a.createElement("button",{className:"inicio-button",onClick:()=>{e("/loginregister")}},"Comenzar")),r.a.createElement("section",{className:"inicio-description"},r.a.createElement("h3",null,"Sobre Nosotros"),r.a.createElement("p",null,"Nuestro sistema se encarga del registro de negocios como por ejemplo restaurantes y sus platos con el fin de hacerlo conocer por su ubicaci\xf3n y beneficiando asi a los due\xf1os de negocios. Todos los datos registrados se mostraran en nuestra aplicaci\xf3n m\xf3vil orientada para los clientes que buscan los negocios de su inter\xe9s y cercanos para ellos que usted registre donde atrav\xe9s calificaciones y rese\xf1as puede irse conociendo dentro de DeGusto incrementando su influencia en el \xe1rea de negocio que haya seleccionado. Para el caso de restaurantes nuestro sistema tiene la capacidad de coordinar reservas con los clientes.")),r.a.createElement("footer",{className:"inicio-footer"},r.a.createElement("p",null,"\xa9 2024 DeGusto. Todos los derechos reservados."),r.a.createElement("div",{className:"social-links"},r.a.createElement("a",{href:"#!"},"Facebook"),r.a.createElement("a",{href:"#!"},"Twitter"),r.a.createElement("a",{href:"#!"},"Whatsapp"))))},u=t(36);t(24);var d=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(!0),c=Object(i.p)();Object(n.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("message");"login_error"===e?a("Correo o contrase\xf1a incorrectos."):"register_success"===e&&a("Registro exitoso. Por favor, inicia sesi\xf3n.")},[]);return r.a.createElement("main",null,r.a.createElement("div",{className:"contenedor__todo"},r.a.createElement("div",{className:"caja__trasera"},r.a.createElement("div",{className:"caja__trasera-login"},r.a.createElement("h3",null,"\xbfYa tienes una cuenta?"),r.a.createElement("p",null,"Inicia sesi\xf3n para entrar en la p\xe1gina"),r.a.createElement("button",{id:"btn__iniciar-sesion",onClick:()=>s(!0)},"Iniciar Sesi\xf3n")),r.a.createElement("div",{className:"caja__trasera-register"},r.a.createElement("h3",null,"\xbfA\xfan no tienes una cuenta?"),r.a.createElement("p",null,"Reg\xedstrate para que puedas iniciar sesi\xf3n"),r.a.createElement("button",{id:"btn__registrarse",onClick:()=>s(!1)},"Reg\xedstrarse"))),r.a.createElement("div",{className:"body::before "}),r.a.createElement("div",{className:"contenedor__login-register"},o?r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const t=e.target.username.value,n=e.target.password.value;console.log("Enviando datos:",{username:t,password:n});try{const e=await u.a.post("https://api-degusto.onrender.com/api/user/login",{userName:t,userPassword:n});console.log("Respuesta del servidor:",e.data);const{person_TypeId:s,userName:i,userStatus:m,personEmail:d}=e.data;i?3===s?(console.log("Bienvenido, administrador"),c("/menuadmin")):1===s?1===m?(console.log("Bienvenido, due\xf1o de negocio"),c("/menufunctions")):a(0===m?"Tu cuenta a\xfan no ha sido aprobada. Por favor, espera la confirmaci\xf3n.":"Estado de cuenta no reconocido. Contacta con el soporte."):a("Tipo de usuario no reconocido."):a(e.data.message||"Usuario o contrase\xf1a incorrectos")}catch(o){var r,l;console.error("Error de login:",(null===(r=o.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message)||"Error desconocido"),a("Error en el inicio de sesi\xf3n. Por favor, int\xe9ntalo de nuevo.")}},className:"formulario__login"},r.a.createElement("h2",null,"Iniciar Sesi\xf3n"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Nombre de Usuario",required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0}),r.a.createElement("button",{type:"submit"},"Entrar"),r.a.createElement("div",{id:"login-message"},e)):r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const a=e.target.name.value,t=e.target.email.value,n=e.target.phone.value,r=e.target.username.value,o=e.target.password.value;console.log("Enviando datos:",{name:a,email:t,phone:n,username:r,password:o});try{const e=await u.a.post("https://api-degusto.onrender.com/api/user/register",{personTypeId:1,name:a,email:t,phoneNumber:n,userName:r,password:o,createDate:(new Date).toISOString()});console.log("Respuesta del servidor:",e.data),l("Env\xedo exitoso. Espere hasta que se confirme su registro."),s(!0)}catch(m){var c,i;console.error("Error en el registro:",(null===(c=m.response)||void 0===c?void 0:null===(i=c.data)||void 0===i?void 0:i.message)||"Error desconocido"),l("Error en el registro. Por favor, revisa los datos.")}},className:"formulario__register"},r.a.createElement("h2",null,"Reg\xedstrarse"),r.a.createElement("input",{type:"text",name:"name",placeholder:"Nombre completo",required:!0}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Correo Electr\xf3nico",required:!0}),r.a.createElement("input",{type:"text",name:"phone",placeholder:"N\xfamero de celular",required:!0}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Usuario",required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0}),r.a.createElement("button",{type:"submit"},"Reg\xedstrarse"),r.a.createElement("div",{id:"register-message"},t)))))};t(29);var E=()=>r.a.createElement("div",null,"Bienvenido al Resumen");t(30);var p=e=>{let{userId:a}=e;const[t,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[c,i]=Object(n.useState)(""),[m,d]=Object(n.useState)(1),[E,p]=Object(n.useState)(null),[g,v]=Object(n.useState)(""),[b,h]=Object(n.useState)(""),[N,f]=Object(n.useState)(1);return r.a.createElement("div",{className:"agregar-negocio-container"},r.a.createElement("h1",null,"Registrar Negocio"),r.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),!t||!o||!c||!g||!b)return void alert("Por favor completa todos los campos requeridos.");const n=new FormData;n.append("businessName",t),n.append("businessAddress",o),n.append("businessPhoneNumber",c),n.append("businessStatus",m),E&&n.append("file",E),n.append("businessLatitude",g),n.append("businessLongitude",b),n.append("businessCategorization",N),n.append("business_AreaId",1),n.append("business_UserId",a);try{const e=await u.a.post("https://api-degusto.onrender.com/api/business",n,{headers:{"Content-Type":"multipart/form-data"}});alert("Negocio agregado exitosamente."),console.log(e.data)}catch(r){console.error("Error al agregar negocio:",r),alert("Ocurri\xf3 un error al intentar agregar el negocio.")}}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre del Negocio:"),r.a.createElement("input",{type:"text",value:t,onChange:e=>l(e.target.value),placeholder:"Ingrese el nombre del negocio",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Direcci\xf3n:"),r.a.createElement("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Ingrese la direcci\xf3n",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"N\xfamero de Tel\xe9fono:"),r.a.createElement("input",{type:"text",value:c,onChange:e=>i(e.target.value),placeholder:"Ingrese el n\xfamero de tel\xe9fono",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Latitud:"),r.a.createElement("input",{type:"number",step:"any",value:g,onChange:e=>v(e.target.value),placeholder:"Ingrese la latitud",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Longitud:"),r.a.createElement("input",{type:"number",step:"any",value:b,onChange:e=>h(e.target.value),placeholder:"Ingrese la longitud",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Logo del Negocio:"),r.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{p(e.target.files[0])}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Estado del Negocio:"),r.a.createElement("select",{value:m,onChange:e=>d(e.target.value)},r.a.createElement("option",{value:1},"Activo"),r.a.createElement("option",{value:0},"Inactivo"))),r.a.createElement("button",{type:"submit",className:"submit-button"},"Registrar Negocio")))};var g=()=>r.a.createElement("div",null,"Esta es la secci\xf3n para editar Negocios");var v=()=>r.a.createElement("div",null,"Esta es la secci\xf3n para eliminar Negocios");var b=()=>r.a.createElement("div",null,"Esta es la secci\xf3n de para agregar platos");var h=()=>r.a.createElement("div",null,"Esta es la secci\xf3n de para editar platos");var N=()=>r.a.createElement("div",null,"Esta es la secci\xf3n de para eliminar platos");var f=()=>{const[e,a]=Object(n.useState)(""),t=Object(i.p)();return r.a.createElement("div",{className:"owner-container"},r.a.createElement("nav",{className:"owner-menu"},r.a.createElement("h3",{className:"owner-title"},"Panel de Funciones"),r.a.createElement("ul",{className:"owner-list"},[{key:"resumen",label:"Resumen"},{key:"agregarnegocio",label:"Agregar Negocio"},{key:"editarnegocio",label:"Editar Negocio"},{key:"eliminarnegocio",label:"Eliminar Negocio"},{key:"agregarplato",label:"Agregar Plato"},{key:"editarplato",label:"Editar Plato"},{key:"eliminarplato",label:"Eliminar Plato"}].map(t=>{let{key:n,label:l}=t;return r.a.createElement("li",{key:n,className:e===n?"active":"",onClick:()=>(e=>{a(e)})(n)},l)}))),r.a.createElement("div",{className:"owner-main"},r.a.createElement("header",{className:"owner-header"},r.a.createElement("span",null,"Bienvenido, Administrador"),r.a.createElement("button",{className:"btn-logout",onClick:async()=>{try{const a=await u.a.post("https://api-degusto.onrender.com/api/user/logout");200===a.status?(console.log("Sesi\xf3n cerrada"),t("/loginregister")):(console.error("Error al cerrar sesi\xf3n:",a.data),alert("Hubo un problema al cerrar sesi\xf3n."))}catch(e){console.error("Error de red al cerrar sesi\xf3n:",e),alert("Error de red. Por favor, intenta nuevamente.")}}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"content"},(()=>{switch(e){case"resumen":return r.a.createElement(E,null);case"agregarnegocio":return r.a.createElement(p,null);case"editarnegocio":return r.a.createElement(g,null);case"eliminarnegocio":return r.a.createElement(v,null);case"agregarplato":return r.a.createElement(b,null);case"editarplato":return r.a.createElement(h,null);case"eliminarplato":return r.a.createElement(N,null);default:return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h2",null,"\xa1Bienvenido al Panel de Funciones!"),r.a.createElement("p",null,"Selecciona una opci\xf3n del men\xfa para empezar."))}})())))};t(31),t(32);var y=()=>{const[e,a]=Object(n.useState)([{id:1,nombre:"Cafeter\xeda El Buen Caf\xe9",categoria:"Cafeter\xeda",direccion:"Av. Siempre Viva 123",imagen:"https://via.placeholder.com/150",validado:!1},{id:2,nombre:"Restaurante La Parrilla",categoria:"Restaurante",direccion:"Calle Falsa 456",imagen:"https://via.placeholder.com/150",validado:!0},{id:3,nombre:"Panader\xeda El Trigo",categoria:"Panader\xeda",direccion:"Plaza Central 789",imagen:"https://via.placeholder.com/150",validado:!1}]);return r.a.createElement("div",{className:"vista-negocio-container"},r.a.createElement("h2",null,"Monitoreo de Negocios"),r.a.createElement("table",{className:"negocios-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Categor\xeda"),r.a.createElement("th",null,"Direcci\xf3n"),r.a.createElement("th",null,"Imagen"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,e.map(t=>r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.categoria),r.a.createElement("td",null,t.direccion),r.a.createElement("td",null,r.a.createElement("img",{src:t.imagen,alt:t.nombre,className:"negocio-imagen"})),r.a.createElement("td",null,t.validado?r.a.createElement("span",{className:"estado-validado"},"Validado"):r.a.createElement("span",{className:"estado-pendiente"},"Pendiente")),r.a.createElement("td",null,!t.validado&&r.a.createElement("button",{className:"btn-validar",onClick:()=>(t=>{const n=e.map(e=>e.id===t?{...e,validado:!0}:e);a(n)})(t.id)},"Validar")))))))};t(33);var C=()=>{const[e,a]=Object(n.useState)([]),[t,l]=Object(n.useState)(!0),[o,s]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async()=>{try{const t=(await u.a.get("https://api-degusto.onrender.com/api/user",{})).data.filter(e=>"Owner"===e.personTypeName||"Customer"===e.personTypeName);a(t)}catch(e){console.error("Error al obtener los usuarios:",e),s("No se pudieron cargar los usuarios.")}finally{l(!1)}})()},[]);const c=async(e,t,n)=>{try{await u.a.put(`https://api-degusto.onrender.com/api/user/${e}`,{personTypeId:n,userStatus:t},{}),a(a=>a.map(a=>a.userId===e?{...a,userStatus:t}:a))}catch(r){console.error("Error al actualizar el estado del usuario:",r)}};return t?r.a.createElement("div",null,"Cargando usuarios..."):o?r.a.createElement("div",null,o):r.a.createElement("div",{className:"user-table-container"},r.a.createElement("h2",null,"Lista de Usuarios"),r.a.createElement("table",{className:"user-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nro"),r.a.createElement("th",null,"Usuario"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Tel\xe9fono"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Fecha de creaci\xf3n"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,e.map((e,t)=>r.a.createElement("tr",{key:e.userId},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.userName),r.a.createElement("td",null,e.PersonName),r.a.createElement("td",null,e.personEmail),r.a.createElement("td",null,e.personPhoneNumber),r.a.createElement("td",null,"Owner"===e.personTypeName?"Due\xf1o":"Cliente"),r.a.createElement("td",null,new Date(e.userCreatedAt).toLocaleString()),r.a.createElement("td",null,r.a.createElement("span",{className:`estado-${1===e.userStatus?"validado":"pendiente"}`},1===e.userStatus?"Validado":"Pendiente")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn-validar",onClick:()=>c(e.userId,1,"Owner"===e.personTypeName?1:2)},"Validar"),r.a.createElement("button",{className:"btn-denegar",onClick:()=>c(e.userId,0,"Owner"===e.personTypeName?1:2)},"Denegar"),r.a.createElement("button",{className:"btn-eliminar",onClick:()=>(async e=>{try{!0===(await u.a.delete(`https://api-degusto.onrender.com/api/user/${e}`,{})).data&&a(a=>a.filter(a=>a.userId!==e))}catch(t){console.error("Error al eliminar el usuario:",t)}})(e.userId)},"Eliminar")))))))};t(34);var S=()=>{const[e,a]=Object(n.useState)(null);return r.a.createElement("div",{className:"vista-resena"},r.a.createElement("h2",null,"Monitoreo de Rese\xf1as"),r.a.createElement("div",{className:"contenedor-negocios"},r.a.createElement("h3",null,"Negocios Disponibles"),r.a.createElement("ul",{className:"lista-negocios"},[{id:1,nombre:"Restaurante Los Sabores","rese\xf1as":[]},{id:2,nombre:"Cafeter\xeda El Aroma","rese\xf1as":[{id:1,usuario:"Juan P\xe9rez",contenido:"\xa1Excelente servicio y caf\xe9!",fecha:"2024-11-01"},{id:2,usuario:"Ana L\xf3pez",contenido:"El caf\xe9 estaba muy fr\xedo, mala experiencia.",fecha:"2024-11-02"}]},{id:3,nombre:"Pizzer\xeda La Familia","rese\xf1as":[{id:3,usuario:"Carlos G\xf3mez",contenido:"La pizza estaba deliciosa, volver\xe9 pronto.",fecha:"2024-11-05"}]}].map(t=>r.a.createElement("li",{key:t.id,onClick:()=>(e=>{a(e)})(t),className:(null===e||void 0===e?void 0:e.id)===t.id?"negocio-activo":""},t.nombre)))),r.a.createElement("div",{className:"contenedor-rese\xf1as"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Rese\xf1as de ",e.nombre),e.rese\u00f1as.length>0?r.a.createElement("table",{className:"tabla-rese\xf1as"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Usuario"),r.a.createElement("th",null,"Rese\xf1a"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,e.rese\u00f1as.map(t=>r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.usuario),r.a.createElement("td",null,t.contenido),r.a.createElement("td",null,t.fecha),r.a.createElement("td",null,r.a.createElement("button",{onClick:()=>(t=>{const n=e.rese\u00f1as.filter(e=>e.id!==t);a({...e,"rese\xf1as":n})})(t.id)},"Eliminar")))))):r.a.createElement("p",null,"No hay rese\xf1as disponibles para este negocio.")):r.a.createElement("p",null,"Selecciona un negocio para ver sus rese\xf1as.")))};var w=()=>{const[e,a]=Object(n.useState)(""),t=Object(i.p)(),l=e=>{a(e)};return r.a.createElement("div",{className:"admin-container"},r.a.createElement("nav",{className:"admin-menu"},r.a.createElement("h3",{className:"menu-title"},"Panel de Administraci\xf3n"),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",{className:"vistausuario"===e?"active":"",onClick:()=>l("vistausuario")},"Validar Usuarios"),r.a.createElement("li",{className:"vistanegocio"===e?"active":"",onClick:()=>l("vistanegocio")},"Monitorear Negocios"),r.a.createElement("li",{className:"vistaresena"===e?"active":"",onClick:()=>l("vistaresena")},"Monitorear Rese\xf1as"))),r.a.createElement("div",{className:"admin-main"},r.a.createElement("header",{className:"admin-header"},r.a.createElement("span",null,"Bienvenido, Administrador"),r.a.createElement("button",{className:"btn-logout",onClick:async()=>{try{const a=await u.a.post("https://api-degusto.onrender.com/api/user/logout");200===a.status?(console.log("Sesi\xf3n cerrandose"),t("/loginregister")):(console.error("Error al cerrar sesi\xf3n:",a.data),alert("Hubo un problema al cerrar sesi\xf3n."))}catch(e){console.error("Error de red al cerrar sesi\xf3n:",e),alert("Error de red. Por favor, intenta nuevamente.")}}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"content"},(()=>{switch(e){case"vistausuario":return r.a.createElement(C,null);case"vistanegocio":return r.a.createElement(y,null);case"vistaresena":return r.a.createElement(S,null);default:return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h2",null,"\xa1Bienvenido al Panel de Administraci\xf3n!"),r.a.createElement("p",null,"Selecciona una opci\xf3n del men\xfa para empezar."))}})())))};var k=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(i.a,{to:"/home"})}),r.a.createElement(i.b,{path:"/home",element:r.a.createElement(m,null)}),r.a.createElement(i.b,{path:"/loginregister",element:r.a.createElement(d,null)}),r.a.createElement(i.b,{path:"/menufunctions",element:r.a.createElement(f,null)}),r.a.createElement(i.b,{path:"/menuadmin",element:r.a.createElement(w,null)}))))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null))),s()}],[[15,1,2]]]);
//# sourceMappingURL=main.d0e0e006.chunk.js.map